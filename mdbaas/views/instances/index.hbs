<div id="page-wrapper">
	<div class="container-fluid">
		<!-- Page Heading -->
		<h1>Running Instances</h1>
		<!-- /.row -->
		<div class="row">
			<div class="col-md-12">
				<div class="row">
					<div class="pull-right">
						<a class="btn btn-success btn-small" href="/catalog"><span class="glyphicon glyphicon-plus-sign"></span> Add</a>
					</div>
						<div class="col-sm-6 col-md-4 col-md-offset-4 col-sm-offset-3">
						<div id="success" class="alert alert-success" {{#if noMessage}} hidden {{/if}}>
							{{successMsg}}
						</div>
						<div id="danger" class="alert alert-danger" {{#if noErrorMsg}} hidden {{/if}}>
							{{errorMsg}}
						</div>
					</div>
				</div>
				<div class="row">
					<div class="panel-body">
						<div class="dataTable_wrapper">
							<table class="table table-striped table-bordered table-hover" id="dataTables-example" data-toggle="table">
								<thead>
									<tr>
										<th>
											ID
										</th>
										<th>
											Name
										</th>
										<th>
											Project
										</th>
										<th>
											Status
										</th>
										<th>
											Owner
										</th>
										<th>
											Up Since
										</th>
										<th>
											Private DNS Name
										</th>
										<th>
											Public DNS Name
										</th>
										<th>
											Expire-on
										</th>
										<th colspan=2>
											Action
										</th>
										<th>
											View Details
										</th>
									</tr>
								</thead>
								<tbody>
									{{#each instances }}
										<tr class="odd gradeX">
											<input type='hidden' id='id' name='productId' value='{{ this._id }}'>
											<td style="word-wrap: break-word;min-width: 160px;max-width: 160px;">{{this.InstanceId}}</td>
											<td>{{this.name}}</td>
											<td>{{this.project}}</td>
											<td>
												{{this.State.Name}}
											</td>
											<td>{{this.owner}}</td>
											<td>{{this.LaunchTime}}</td>
											<td>{{this.PrivateDnsName}}</td>
											<td>{{this.PublicDnsName}}</td>
											<td>{{this.expires}}</td>
											<td>
												<form action='/instance/playbook' method="GET">
													<input type='hidden' name='_id' value='{{this._id}}'>
													<p data-placement="top" data-toggle="tooltip" title="Edit">
														<button class="btn btn-warning btn-xs" onClick="submit();"><span class="glyphicon glyphicon-pencil"></span></button>
													</p>
												</form>
											</td>
											<td>
												<div class="btn-group">
													<button class="btn btn-primary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												    Select Action
												  </button>

												  <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
												    <li><a class="dropdown-item" href="#" data-title="view" data-toggle="modal" data-target="#view_{{this._id}}">Action</a></li>
												    <li><a class="dropdown-item" href="#">Another action</a></li>
												    <li><a class="dropdown-item" href="#">Something else here</a></li>
												  </ul>
												</div>
													<div class="modal fade" id="view_{{this._id}}" tabindex="-1" role="dialog" aria-labelledby="add" aria-hidden="true">
														<div class="modal-dialog">
															<div class="modal-content">
																<div class="modal-header">
																	<button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
																	<h4 class="modal-title custom_align" id="Heading">View Instance Details</h4>
																</div>
																<div class="pre"><pre><code class="prettyPrint">{{JSON this}}</code></pre></div>
																<div class="modal-footer">
																	<button type="button" onClick="submit();" data-dismiss="modal" class="btn btn-warning btn-xs" style="width: 100%;"><span class="glyphicon glyphicon-remove"></span>Close</button>
																</div>
																</form>
															</div>
															<!-- /.modal-content -->
														</div>
														<!-- /.modal-dialog -->
													</div>

											</td>
											<td>
												<button class="btn btn-warning btn-xs" type="button" data-toggle="collapse" data-target="#collapseExample-{{this.InstanceID}}" aria-expanded="false" aria-controls="collapseExample">
																<span class="glyphicon glyphicon-eye-open"></span>
												</button>
											</td>
										</tr>
										<tr>
											<td colspan=12>
												<div class="collapse" id="collapseExample-{{this.InstanceID}}">
													<div class="card card-block">
														{{JSON this}}
													</div>
												</div>
											</td>
										</tr>
									{{/each}}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- /.row -->
</div>
<!-- /.row -->
</div>
<!-- /.container-fluid -->
</div>
